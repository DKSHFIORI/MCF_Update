var version=sap.ui.version.split(".");parseInt(version[0],10)<=1&&parseInt(version[1],10)<78&&(sap.ui.getCore().loadLibraries(["sap/ui/fl"]),sap.ui.require(["sap/ui/fl/FakeLrepConnector"],(function(e){jQuery.extend(e.prototype,{create:function(e){return Promise.resolve()},stringToAscii:function(e){if(!e||0===e.length)return"";for(var n="",t=0;t<e.length;t++)n+=e.charCodeAt(t)+",";return null!==n&&n.length>0&&","===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n},loadChanges:function(){var n={changes:[],settings:{isKeyUser:!0,isAtoAvailable:!1,isProductiveSystem:!1}},t=[];return new Promise((function(r,a){$.ajax({url:"/sap-ui-cachebuster-info.json",type:"GET",cache:!1}).then((function(e){var n=Object.keys(e).filter((function(e){return e.endsWith(".change")}));$.each(n,(function(e,n){0===n.indexOf("changes")&&t.push($.ajax({url:"/"+n,type:"GET",cache:!1}).then((function(e){return JSON.parse(e)})))}))})).always((function(){return Promise.all(t).then((function(a){return new Promise((function(e,n){0===a.length?$.ajax({url:"/changes/",type:"GET",cache:!1}).then((function(n){for(var r=/(\/changes\/[^"]*\.[a-zA-Z]*)/g,a=r.exec(n);null!==a;)t.push($.ajax({url:a[1],type:"GET",cache:!1}).then((function(e){return JSON.parse(e)}))),a=r.exec(n);e(Promise.all(t))})).fail((function(n){e(a)})):e(a)})).then((function(t){var a=[],o=[];if(t.forEach((function(n){var t=n.changeType;if("addXML"===t||"codeExt"===t){var r="/"+("addXML"===t?n.content.fragmentPath:"codeExt"===t?n.content.codeRef:"").match(/webapp(.*)/)[0];a.push($.ajax({url:r,type:"GET",cache:!1}).then((function(r){return"addXML"===t?(n.content.fragment=e.prototype.stringToAscii(r.documentElement.outerHTML),n.content.selectedFragmentContent=r.documentElement.outerHTML):"codeExt"===t&&(n.content.code=e.prototype.stringToAscii(r),n.content.extensionControllerContent=r),n})))}else o.push(n)})),a.length>0)return Promise.all(a).then((function(e){e.forEach((function(e){o.push(e)})),o.sort((function(e,n){return new Date(e.creation)-new Date(n.creation)})),n.changes=o,r({changes:n,componentClassName:"dksh.ymm.mcfupdate.mcfupdate"})}));o.sort((function(e,n){return new Date(e.creation)-new Date(n.creation)})),n.changes=o,r({changes:n,componentClassName:"dksh.ymm.mcfupdate.mcfupdate"})}))}))}))}))}}),e.enableFakeConnector()})));